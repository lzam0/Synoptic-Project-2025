doctype html
html(lang="en")
  head
    meta(charset="UTF-8")
    meta(name="viewport", content="width=device-width, initial-scale=1.0")
    title Admin Dashboard
    link(rel="stylesheet", href="/css/style.css")
  body
    nav.navbar
      a.navbar-brand(href="/") MyApp
      ul.nav-links
        li: a(href="/") Home
        li: a(href="/admin") Admin
        li
          form(action="/logout", method="POST")
            button(type="submit") Logout

    .container
      h1 Admin Dashboard
      p Welcome, Admin! Manage your data here.

      // ADD DATA SECTION
      section.admin-section
        h2 Add Data
        form(action="/admin/add-data", method="POST", enctype="multipart/form-data")
          label(for="csvFile") Upload CSV file:
          input(type="file", name="csvFile", id="csvFile", accept=".csv", required)

          label(for="datePeriod") Select Date Period:
          input(type="date", name="datePeriod", id="datePeriod", required)

          button(type="submit") Add Data

      // REMOVE DATA SECTION
      section.admin-section
        h2 Remove Data
        form(action="/admin/remove-data", method="POST")
          label(for="referenceNumber") Reference Number:
          select(name="referenceNumber", id="referenceNumber")
            option(value="") -- Select Reference Number --
            each river in riverData
              option(value=river.river_id) #{river.river_id} - #{river.station} #{river.formatted_date} #{river.time}

          p OR

          label(for="removeDatePeriod") Select Date Period:
          input(type="date", name="removeDatePeriod", id="removeDatePeriod")

          button(type="submit") Remove Data

      // TABLE OF EXISTING RIVER DATA
      section.admin-section
        h2 Current River Data
        if riverData.length > 0
          - const formatTime = time => time.slice(0,5);

          table
            thead
              tr
                th River ID
                th Station
                th Date
                th Time
                th Level
                th Flow
            tbody
              each river in riverData
                tr
                  td= river.river_id
                  td= river.station
                  td= river.formatted_date    
                  td= formatTime(river.time)   
                  td= river.level
                  td= river.flow
        else
          p No river data found.
